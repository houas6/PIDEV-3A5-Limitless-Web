{% extends 'back.html.twig' %}



{% block body %}

<!-- Search form -->
<form action="{{ path('app_rechercher_utilisateurs') }}" method="GET" class="mb-4">
  <div class="input-group">
    <input type="text" class="form-control" placeholder="Rechercher un utilisateur" name="q">
    <div class="input-group-append">
      <button class="btn btn-primary" type="submit">Rechercher</button>
    </div>
  </div>
</form>

<!-- Table with stripped rows -->
<table class="table table-striped"  >
    <thead>
        <tr>
            <th>Nom</th>
            <th>Prénom</th>
            <th>Mail</th>
            <th>Adresse</th>
            <th>Numéro</th>
            <th>CIN</th>
            <th>Blocage</th>
        </tr>
    </thead>
    <tbody>
        {% for user in us %}
        <tr{% if user.bloque %} class="table-danger"{% endif %}>
            <td>{{ user.nom }}</td>
            <td>{{ user.prenom }}</td>
            <td>{{ user.mail }}</td>
            <td>{{ user.adresse }}</td>
            <td>{{ user.numero }}</td>
            <td>{{ user.cin }}</td>
            <td>
                {% if user.bloque %}
    <a class="btn btn-danger" href="{{ path('app_debloquer', {'id': user.getIdUser()}) }}">Débloquer</a>
{% else %}
    <a class="btn btn-success" href="{{ path('app_bloquer', {'id': user.getIdUser()}) }}">Bloquer</a>
{% endif %}

            </td>

            
        </tr>
        {% endfor %}
    </tbody>
</table>
<!-- End small tables -->
<!-- Pagination START -->
                         <div class="d-sm-flex justify-content-sm-between align-items-sm-center">
                            <!-- Content -->
                            <p class="mb-0 text-center text-sm-start"></p>
                            <!-- Pagination -->
                            <nav class="d-flex justify-content-center mb-0" aria-label="navigation">
                                {{ knp_pagination_render(us) }}
                            </nav>
                        </div>  
                        <!-- Pagination END -->
{% endblock %}

